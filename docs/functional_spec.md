# 상세 기능 명세서 (Functional Specification)

## 1. 인증 및 사용자 관리 (Auth)

### 1-1. 전용 로그인 모달 (LoginModal)

- '게시하기'나 '좋아요' 클릭 시 현재 화면을 유지한 채로 소셜 로그인 유도.
- 로그인 성공 시 모달이 닫히고 중단되었던 액션이 자연스럽게 이어지도록 설계.

### 1-2. 프로필 관리

- 상단/하단 내비게이션에 사용자 아바타 노출. 로그아웃 기능 포함.

---

## 2. 스케치 (Sketch)

### 2-1. SketchEngine 분석 로직

- **CORS 대응**: Sanity CDN 이미지 로드 시 캐시 충돌을 방지하기 위해 **Cache Buster (`?t=...`)**를 URL에 추가합니다.
- **Blob 예외 처리**: 로컬에서 업로드한 이미지(`blob:`)에는 쿼리 스트링을 붙이지 않아 로드 오류를 방지합니다.

### 2-2. 튜닝 및 미리보기

- 옵션 변경 시 캔버스 즉시 재시작(Live Re-draw).
- 모바일에서는 엄지손가락 영역 내 **Bottom Sheet** 형태의 컨트롤 패널 제공.

### 2-3. 수정 및 리믹스 (Edit/Remix)

- **Edit**: 본인 작품 클릭 시 기존 옵션을 그대로 스튜디오로 로드.
- **Remix**: 타인 작품 클릭 시 설정값을 복제하여 새로 그리기.
- **UX**: 해당 모드 진입 시 불필요한 알림 토스트를 제거하여 즉각적인 편집 경험 제공.

---

## 3. 소셜 피드 (Social Feed)

### 3-1. 아트워크 카드 인터랙션

- **Glassmorphism Buttons**: 카드 호버 시 좋아요, 다운로드, 공유 버튼 노출.
- **Stop Propagation**: 카드 내 버튼 클릭 시 상세 모달이 중복으로 열리지 않도록 이벤트 전파 차단.

### 3-2. 상세보기 모달

- **Deep Linking**: `?artwork=ID` 파라미터 감지 시 모달 즉시 실행.
- **Tooltips**: 모든 액션 버튼에 전역 공통 스타일이 적용된 대문자(UPPERCASE) 툴팁 적용.

---

## 4. 게시 및 공유 (Publish Flow)

### 4-1. 전용 게시 모달 (PublishModal)

- 캔버스 내용을 실시간 캡처하여 미리보기 제공.
- 제목 및 설명 입력 후 Sanity DB에 게시.

---

## 5. 레이아웃 및 성능

### 5-1. 포트 관리 (Port 3000)

- 모든 API 요청 및 프론트엔드 서빙은 `localhost:3000`을 기준으로 동작하며, Sanity CORS 설정도 이에 맞춰 관리됩니다.

### 5-2. 로딩 애니메이션

- 이미지 로딩 시 **Fade-in Reveal** 효과 (0.7s)를 통해 고급스러운 이미지 노출 구현.
